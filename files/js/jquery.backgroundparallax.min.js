/* =================================
* jQuery parallax v2.2 / Copyright Â© 2015 Spab Rice
* All rights reserved.
================================= */
function moveParallax() {
    jQuery(".parallax-content").filter(function (e, a) {
        return jQuery(a).visible(!0)
    }).each(function () {
        var e = parseInt(jQuery(this).offset().top, 10), a = jQuery(window).scrollTop() - e, t = .3 * a, h = parseInt(jQuery(this).parent().height()), p = parseFloat(jQuery(this).parent().data('parallax-opacity')), o = (1 - p) * (1 - (a / h)) + p;
        isChrome && "undefined" != typeof TweenLite ? TweenLite.to(jQuery(this).find(".parallax-image"), .2, {y: t}) : jQuery(this).find(".parallax-image").css({
            transform: "translateY(" + t + "px)",
            "moz-transform": "translateY(" + t + "px)",
            "webkit-transform": "translateY(" + t + "px)",
            opacity: o
        })
    })
}

var isChrome = /Chrome/.test(navigator.userAgent) && /Google Inc/.test(navigator.vendor);
jQuery(window).width() > 1024 && jQuery(window).scroll(function () {
    moveParallax()
}), function (e) {
    e.fn.extend({
        parallax: function () {
            return this.each(function () {
                var e = jQuery(this), a = new Image;
                a.onload = function () {
                    if (imgH = this.height, imgW = this.width, jQuery(window).width() > 1024) {
                        var a = jQuery(window).height(), t = -((jQuery(window).height() - e.height()) / 2);
                        t > 0 && (t = -1), jQuery(window).height() < e.height() && (a = e.height()), "absolute" !== e.css("position") && e.css({
                            position: "relative",
                            "z-index": "2"
                        }), e.append('<div class="parallax-content" style="position:absolute;top:0;left:0;width:100%;height:100%;z-index:-1;overflow:hidden;display:none;"><div class="parallax-image" style="background: url(' + e.data("parallax-image") + ") center center;background-size:cover; width:100%;height:" + a + "px;position:absolute;top:" + t + 'px;"></div></div>'), moveParallax(), e.find(".parallax-content").fadeIn(400)
                    } else e.css({
                        background: "url(" + e.data("parallax-image") + ") center center",
                        "background-attachment": "inherit",
                        "background-size": "cover"
                    })
                }, a.src = e.data("parallax-image")
            })
        }
    })
}(jQuery);